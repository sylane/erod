{sub_dirs, ["rel", "apps/erodlib", "apps/erod", "apps/erodws", "apps/erdom"]}.
{lib_dirs, ["deps", "apps"]}.

{deps,
 [{lager, ".*",
   {git, "https://github.com/basho/lager.git",
    {branch, "master"}}},
  {cowboy, ".*",
   {git, "https://github.com/extend/cowboy.git",
    {branch, "master"}}},
  {jsx, ".*",
   {git, "https://github.com/talentdeficit/jsx.git",
    {branch, "master"}}}
 ]}.

{recursive_cmds, [clean, compile, xref, ct, generate]}.

{erl_opts,
 [{parse_transform, lager_transform},
  warnings_as_errors,
  strict_validation,
  warn_bif_clash,
%  warn_deprecated_function,
  warn_export_all,
  warn_export_vars,
  warn_exported_vars,
  warn_obsolete_guard,
  warn_shadow_vars,
  warn_unused_import,
  warn_unused_function,
  warn_unused_record,
  warn_unused_vars
 ]}.

{cover_enabled, true}.

{pre_hooks,
 [{clean, "rm -rf erl_crash.dump logs log ebin test/logs test/*.beam"}
 ]}.

{xref_checks,
 [undefined_function_calls,
  undefined_functions,
  locals_not_used,
  deprecated_function_calls,
  deprecated_functions
 ]}.
